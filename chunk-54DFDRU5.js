import{a as q,b as V}from"./chunk-Z2VXY6A4.js";import{a as A,b as B}from"./chunk-O3ILVNDL.js";import{a as S,b as c,c as y,d as k,f as F,h as R,i as M,n as I,o as T,p as N}from"./chunk-DTJY53OX.js";import{a as z}from"./chunk-DJ4ZLQE5.js";import{a as E}from"./chunk-M6G75PQQ.js";import{Ab as s,Bb as h,Ja as n,Oa as g,Ua as b,Za as u,eb as l,gb as f,gc as C,kb as i,lb as r,mb as d,mc as P,pa as _,rb as p,sb as v}from"./chunk-GPF5BPB6.js";function G(t,o){t&1&&(i(0,"p",23),s(1," Obavezno "),r())}function j(t,o){t&1&&(i(0,"p",24),s(1," \xA0 "),r())}function O(t,o){t&1&&(i(0,"p",23),s(1," Obavezno "),r())}function U(t,o){t&1&&(i(0,"p",23),s(1," Neispravan format emaila "),r())}function H(t,o){t&1&&(i(0,"p",24),s(1," \xA0 "),r())}function L(t,o){t&1&&(i(0,"p",23),s(1," Obavezno "),r())}function $(t,o){t&1&&(i(0,"p",24),s(1," \xA0 "),r())}function J(t,o){t&1&&(i(0,"p",23),s(1," Obavezno "),r())}function K(t,o){t&1&&(i(0,"p",23),s(1," Lozinke se ne podudaraju "),r())}function Q(t,o){t&1&&(i(0,"p",24),s(1," \xA0 "),r())}function W(t,o){if(t&1&&(i(0,"p",25),s(1),r()),t&2){let a=v();n(),h(a.successMessage)}}function X(t,o){if(t&1&&(i(0,"p",23),s(1),r()),t&2){let a=v();n(),h(a.errorMessage)}}var D=class t{constructor(o,a,e){this.fb=o;this.http=a;this.snackBar=e;this.registerForm=this.fb.group({name:["",c.required],email:["",[c.required,c.email]],password:["",c.required],confirmPassword:["",c.required]},{validators:Y})}closed=new _;registerForm;submitted=!1;successMessage="";errorMessage="";showPassword=!1;showConfirmPassword=!1;togglePasswordVisibility(){this.showPassword=!this.showPassword}toggleConfirmPasswordVisibility(){this.showConfirmPassword=!this.showConfirmPassword}register(){if(this.submitted=!0,this.registerForm.invalid)return;let{name:o,email:a,password:e}=this.registerForm.value;this.http.post(`${z.apiUrl}/auth/google/auth/register`,{name:o,email:a,password:e}).subscribe({next:()=>{console.log("registracija"),this.snackBar.open("Registration successful! Check your email for verification","",{duration:5e3,horizontalPosition:"right",verticalPosition:"bottom",panelClass:["success-snackbar"]}),this.successMessage="Registration successful. Please check your email to verify your account.",this.registerForm.reset(),this.submitted=!1,this.close()},error:m=>{this.errorMessage=m.error?.message||"Registration failed."}})}close(){this.closed.emit()}get name(){return this.registerForm.get("name")}get email(){return this.registerForm.get("email")}get password(){return this.registerForm.get("password")}get confirmPassword(){return this.registerForm.get("confirmPassword")}static \u0275fac=function(a){return new(a||t)(g(I),g(E),g(q))};static \u0275cmp=b({type:t,selectors:[["app-register"]],outputs:{closed:"closed"},decls:50,vars:25,consts:[["appAccessibleClick","",1,"modal-backdrop",3,"accessibleClick"],["appTrapFocus","",1,"modal-content",3,"click","onEscape"],["appAccessibleClick","",1,"close-button",3,"accessibleClick"],[3,"ngSubmit","formGroup"],[1,"text-center"],[1,"form-row"],["for","name"],["type","text","id","name","formControlName","name","placeholder","Unesi ime",3,"keydown.space"],[1,"error-placeholder"],["class","error",4,"ngIf"],["class","error invisible",4,"ngIf"],["for","email"],["type","email","id","email","formControlName","email","placeholder","Unesi email"],["for","password"],[1,"password-wrapper"],["id","password","formControlName","password","placeholder","Unesi lozinku",1,"password-input",3,"type"],["type","button","appAccessibleClick","",1,"toggle-password",3,"accessibleClick"],[1,"fa","fa-eye"],["for","confirmPassword"],["id","confirmPassword","formControlName","confirmPassword","placeholder","Potvrdi lozinku",1,"password-input",3,"type"],["type","submit",3,"disabled"],[1,"form-messages"],["class","success",4,"ngIf"],[1,"error"],[1,"error","invisible"],[1,"success"]],template:function(a,e){a&1&&(i(0,"div",0),p("accessibleClick",function(){return e.close()}),i(1,"div",1),p("click",function(w){return w.stopPropagation()}),i(2,"button",2),p("accessibleClick",function(){return e.close()}),s(3,"\xD7"),r(),i(4,"form",3),p("ngSubmit",function(){return e.register()}),i(5,"h4",4),s(6,"Register"),r(),d(7,"br"),i(8,"div",5)(9,"label",6),s(10,"Name:"),r(),i(11,"input",7),p("keydown.space",function(w){return w.stopPropagation()}),r(),i(12,"div",8),u(13,G,2,0,"p",9)(14,j,2,0,"p",10),r()(),i(15,"div",5)(16,"label",11),s(17,"Email:"),r(),d(18,"input",12),i(19,"div",8),u(20,O,2,0,"p",9)(21,U,2,0,"p",9)(22,H,2,0,"p",10),r()(),i(23,"div",5)(24,"label",13),s(25,"Password:"),r(),i(26,"div",14),d(27,"input",15),i(28,"button",16),p("accessibleClick",function(){return e.togglePasswordVisibility()}),d(29,"i",17),r()(),i(30,"div",8),u(31,L,2,0,"p",9)(32,$,2,0,"p",10),r()(),i(33,"div",5)(34,"label",18),s(35,"Confirm Password:"),r(),i(36,"div",14),d(37,"input",19),i(38,"button",16),p("accessibleClick",function(){return e.toggleConfirmPasswordVisibility()}),d(39,"i",17),r()(),i(40,"div",8),u(41,J,2,0,"p",9)(42,K,2,0,"p",9)(43,Q,2,0,"p",10),r()(),i(44,"div",4)(45,"button",20),s(46,"Register"),r()(),i(47,"div",21),u(48,W,2,1,"p",22)(49,X,2,1,"p",9),r()()()()),a&2&&(n(),l("onEscape",e.close),n(3),l("formGroup",e.registerForm),n(7),f("invalid",(e.name==null?null:e.name.invalid)&&((e.name==null?null:e.name.touched)||e.submitted)),n(2),l("ngIf",(e.name==null?null:e.name.hasError("required"))&&((e.name==null?null:e.name.touched)||e.submitted)),n(),l("ngIf",!(e.name!=null&&e.name.hasError("required"))||!(e.name!=null&&e.name.touched||e.submitted)),n(4),f("invalid",(e.email==null?null:e.email.invalid)&&((e.email==null?null:e.email.touched)||e.submitted)),n(2),l("ngIf",(e.email==null?null:e.email.hasError("required"))&&((e.email==null?null:e.email.touched)||e.submitted)),n(),l("ngIf",(e.email==null?null:e.email.hasError("email"))&&((e.email==null?null:e.email.touched)||e.submitted)),n(),l("ngIf",!(e.email!=null&&e.email.hasError("required"))&&!(e.email!=null&&e.email.hasError("email"))||!(e.email!=null&&e.email.touched||e.submitted)),n(5),f("invalid",(e.password==null?null:e.password.invalid)&&((e.password==null?null:e.password.touched)||e.submitted)),l("type",e.showPassword?"text":"password"),n(4),l("ngIf",(e.password==null?null:e.password.hasError("required"))&&((e.password==null?null:e.password.touched)||e.submitted)),n(),l("ngIf",!(e.password!=null&&e.password.hasError("required"))||!(e.password!=null&&e.password.touched||e.submitted)),n(5),f("invalid",(e.confirmPassword==null?null:e.confirmPassword.invalid)&&((e.confirmPassword==null?null:e.confirmPassword.touched)||e.submitted)),l("type",e.showConfirmPassword?"text":"password"),n(4),l("ngIf",(e.confirmPassword==null?null:e.confirmPassword.hasError("required"))&&((e.confirmPassword==null?null:e.confirmPassword.touched)||e.submitted)),n(),l("ngIf",(e.registerForm.errors==null?null:e.registerForm.errors.passwordsMismatch)&&((e.confirmPassword==null?null:e.confirmPassword.touched)||e.submitted)),n(),l("ngIf",!(e.confirmPassword!=null&&e.confirmPassword.hasError("required"))&&!(e.registerForm.errors!=null&&e.registerForm.errors.passwordsMismatch)||!(e.confirmPassword!=null&&e.confirmPassword.touched||e.submitted)),n(2),l("disabled",e.registerForm.invalid),n(3),l("ngIf",e.successMessage),n(),l("ngIf",e.errorMessage&&!(e.registerForm.errors!=null&&e.registerForm.errors.passwordsMismatch)))},dependencies:[P,C,T,F,S,y,k,N,R,M,V,B,A],encapsulation:2})},Y=t=>{let o=t.get("password")?.value,a=t.get("confirmPassword")?.value;return o===a?null:{passwordsMismatch:!0}};export{D as a,Y as b};
