import{a as st}from"./chunk-ATBZJWYU.js";import{a as at}from"./chunk-54DFDRU5.js";import{a as tt,b as nt}from"./chunk-Z2VXY6A4.js";import{a as it,b as rt}from"./chunk-O3ILVNDL.js";import{b as Z,c as et}from"./chunk-XYQLMOWE.js";import{a as qe,c as Qe,d as $e,f as Je,h as We,i as Xe,n as Ze,p as Ye}from"./chunk-DTJY53OX.js";import{a as F}from"./chunk-HP2GQHZV.js";import{b as Be,d as Ge,e as W,f as Ke,h as X}from"./chunk-V4HT3JDP.js";import{a as ze}from"./chunk-M6G75PQQ.js";import{$ as P,Ab as l,Bb as T,Cb as Oe,E as Fe,F as he,Ga as O,H as N,I as fe,Ja as c,Lb as Q,Mb as $,Oa as v,Ob as J,P as ge,Rb as He,S as ve,Ua as S,Va as je,Xa as Re,Y as k,Z as Ve,Za as _,a as ce,ba as b,da as Ae,eb as m,gc as L,ia as d,ja as p,ka as K,kb as a,l as R,lb as o,mb as g,mc as x,n as I,nb as Ne,ob as Pe,p as de,pa as w,qb as C,rb as h,sb as f,t as pe,u as me,v as De,wb as Ce,xb as _e,yb as be,z as Ie,zb as q}from"./chunk-GPF5BPB6.js";var E=class{},we=(()=>{class n extends E{getTranslation(e){return R({})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(n)))(i||n)}})();static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),V=class{},Me=(()=>{class n{handle(e){return e.key}static \u0275fac=function(t){return new(t||n)};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})();function ee(n,r){if(n===r)return!0;if(n===null||r===null)return!1;if(n!==n&&r!==r)return!0;let e=typeof n,t=typeof r,i,s,u;if(e==t&&e=="object")if(Array.isArray(n)){if(!Array.isArray(r))return!1;if((i=n.length)==r.length){for(s=0;s<i;s++)if(!ee(n[s],r[s]))return!1;return!0}}else{if(Array.isArray(r))return!1;u=Object.create(null);for(s in n){if(!ee(n[s],r[s]))return!1;u[s]=!0}for(s in r)if(!(s in u)&&typeof r[s]<"u")return!1;return!0}return!1}function y(n){return typeof n<"u"&&n!==null}function z(n){return Y(n)&&!ke(n)&&n!==null}function Y(n){return typeof n=="object"}function ke(n){return Array.isArray(n)}function Te(n){return typeof n=="string"}function pt(n){return typeof n=="function"}function Se(n,r){let e=Object.assign({},n);return Y(n)?(Y(n)&&Y(r)&&Object.keys(r).forEach(t=>{z(r[t])?t in n?e[t]=Se(n[t],r[t]):Object.assign(e,{[t]:r[t]}):Object.assign(e,{[t]:r[t]})}),e):Se({},r)}function Le(n,r){let e=r.split(".");r="";do r+=e.shift(),y(n)&&y(n[r])&&(z(n[r])||ke(n[r])||!e.length)?(n=n[r],r=""):e.length?r+=".":n=void 0;while(e.length);return n}function mt(n,r,e){let t=r.split("."),i=n;for(let s=0;s<t.length;s++){let u=t[s];s===t.length-1?i[u]=e:((!i[u]||!z(i[u]))&&(i[u]={}),i=i[u])}}var U=class{},xe=(()=>{class n extends U{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(e,t){if(Te(e))return this.interpolateString(e,t);if(pt(e))return this.interpolateFunction(e,t)}interpolateFunction(e,t){return e(t)}interpolateString(e,t){return t?e.replace(this.templateMatcher,(i,s)=>{let u=Le(t,s);return y(u)?u:i}):e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(n)))(i||n)}})();static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),D=class{},ye=(()=>{class n extends D{compile(e,t){return e}compileTranslations(e,t){return e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=K(n)))(i||n)}})();static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),A=class{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new w;onLangChange=new w;onDefaultLangChange=new w},te=new P("ISOLATE_TRANSLATE_SERVICE"),ne=new P("USE_DEFAULT_LANG"),ie=new P("DEFAULT_LANGUAGE"),re=new P("USE_EXTEND"),H=n=>I(n)?n:R(n),se=(()=>{class n{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;extend;loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onDefaultLangChange(){return this.store.onDefaultLangChange}get defaultLang(){return this.store.defaultLang}set defaultLang(e){this.store.defaultLang=e}get currentLang(){return this.store.currentLang}set currentLang(e){this.store.currentLang=e}get langs(){return this.store.langs}set langs(e){this.store.langs=e}get translations(){return this.store.translations}set translations(e){this.store.translations=e}constructor(e,t,i,s,u,ue=!0,M=!1,B=!1,G){this.store=e,this.currentLoader=t,this.compiler=i,this.parser=s,this.missingTranslationHandler=u,this.useDefaultLang=ue,this.extend=B,M&&(this.store=new A),G&&this.setDefaultLang(G)}setDefaultLang(e){if(e===this.defaultLang)return;let t=this.retrieveTranslations(e);typeof t<"u"?(this.defaultLang==null&&(this.defaultLang=e),t.pipe(N(1)).subscribe(()=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(this.lastUseLanguage=e,e===this.currentLang)return R(this.translations[e]);this.currentLang||(this.currentLang=e);let t=this.retrieveTranslations(e);return I(t)?(t.pipe(N(1)).subscribe(()=>{this.changeLang(e)}),t):(this.changeLang(e),R(this.translations[e]))}changeLang(e){e===this.lastUseLanguage&&(this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),this.defaultLang==null&&this.changeDefaultLang(e))}retrieveTranslations(e){if(typeof this.translations[e]>"u"||this.extend)return this._translationRequests[e]=this._translationRequests[e]||this.loadAndCompileTranslations(e),this._translationRequests[e]}getTranslation(e){return this.loadAndCompileTranslations(e)}loadAndCompileTranslations(e){this.pending=!0;let t=this.currentLoader.getTranslation(e).pipe(ge(1),N(1));return this.loadingTranslations=t.pipe(de(i=>this.compiler.compileTranslations(i,e)),ge(1),N(1)),this.loadingTranslations.subscribe({next:i=>{this.translations[e]=this.extend&&this.translations[e]?ce(ce({},i),this.translations[e]):i,this.updateLangs(),this.pending=!1},error:i=>{this.pending=!1}}),t}setTranslation(e,t,i=!1){let s=this.compiler.compileTranslations(t,e);(i||this.extend)&&this.translations[e]?this.translations[e]=Se(this.translations[e],s):this.translations[e]=s,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){let t=e.filter(i=>!this.langs.includes(i));t.length>0&&(this.langs=[...this.langs,...t])}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResultForKey(e,t,i){let s;if(e&&(s=this.runInterpolation(Le(e,t),i)),s===void 0&&this.defaultLang!=null&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(s=this.runInterpolation(Le(this.translations[this.defaultLang],t),i)),s===void 0){let u={key:t,translateService:this};typeof i<"u"&&(u.interpolateParams=i),s=this.missingTranslationHandler.handle(u)}return s!==void 0?s:t}runInterpolation(e,t){if(ke(e))return e.map(i=>this.runInterpolation(i,t));if(z(e)){let i={};for(let s in e){let u=this.runInterpolation(e[s],t);u!==void 0&&(i[s]=u)}return i}else return this.parser.interpolate(e,t)}getParsedResult(e,t,i){if(t instanceof Array){let s={},u=!1;for(let M of t)s[M]=this.getParsedResultForKey(e,M,i),u=u||I(s[M]);if(!u)return s;let ue=t.map(M=>H(s[M]));return De(ue).pipe(de(M=>{let B={};return M.forEach((G,dt)=>{B[t[dt]]=G}),B}))}return this.getParsedResultForKey(e,t,i)}get(e,t){if(!y(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe(Fe(i=>H(this.getParsedResult(i,e,t)))):H(this.getParsedResult(this.translations[this.currentLang],e,t))}getStreamOnTranslationChange(e,t){if(!y(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return pe(me(()=>this.get(e,t)),this.onTranslationChange.pipe(ve(i=>{let s=this.getParsedResult(i.translations,e,t);return H(s)})))}stream(e,t){if(!y(e)||!e.length)throw new Error('Parameter "key" required');return pe(me(()=>this.get(e,t)),this.onLangChange.pipe(ve(i=>{let s=this.getParsedResult(i.translations,e,t);return H(s)})))}instant(e,t){if(!y(e)||e.length===0)throw new Error('Parameter "key" is required and cannot be empty');let i=this.getParsedResult(this.translations[this.currentLang],e,t);return I(i)?Array.isArray(e)?e.reduce((s,u)=>(s[u]=u,s),{}):e:i}set(e,t,i=this.currentLang){mt(this.translations[i],e,Te(t)?this.compiler.compile(t,i):this.compiler.compileTranslations(t,i)),this.updateLangs(),this.onTranslationChange.emit({lang:i,translations:this.translations[i]})}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.loadAndCompileTranslations(e)}resetLang(e){delete this._translationRequests[e],delete this.translations[e]}getBrowserLang(){if(typeof window>"u"||!window.navigator)return;let e=this.getBrowserCultureLang();return e?e.split(/[-_]/)[0]:void 0}getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}static \u0275fac=function(t){return new(t||n)(b(A),b(E),b(D),b(U),b(V),b(ne),b(te),b(re),b(ie))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ot=(()=>{class n{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(e,t){this.translate=e,this._ref=t}updateValue(e,t,i){let s=u=>{this.value=u!==void 0?u:e,this.lastKey=e,this._ref.markForCheck()};if(i){let u=this.translate.getParsedResult(i,e,t);I(u)?u.subscribe(s):s(u)}this.translate.get(e,t).subscribe(s)}transform(e,...t){if(!e||!e.length)return e;if(ee(e,this.lastKey)&&ee(t,this.lastParams))return this.value;let i;if(y(t[0])&&t.length)if(Te(t[0])&&t[0].length){let s=t[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{i=JSON.parse(s)}catch(u){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${t[0]}`)}}else z(t[0])&&(i=t[0]);return this.lastKey=e,this.lastParams=t,this.updateValue(e,i),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(s=>{this.lastKey&&s.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,i,s.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(s=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,i,s.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,i))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(t){return new(t||n)(v(se,16),v(He,16))};static \u0275pipe=Re({name:"translate",type:n,pure:!1});static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})();var Kt=(n={})=>Ae([n.loader||{provide:E,useClass:we},n.compiler||{provide:D,useClass:ye},n.parser||{provide:U,useClass:xe},n.missingTranslationHandler||{provide:V,useClass:Me},A,{provide:te,useValue:n.isolate},{provide:ne,useValue:n.useDefaultLang},{provide:re,useValue:n.extend},{provide:ie,useValue:n.defaultLanguage},se]),lt=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[e.loader||{provide:E,useClass:we},e.compiler||{provide:D,useClass:ye},e.parser||{provide:U,useClass:xe},e.missingTranslationHandler||{provide:V,useClass:Me},A,{provide:te,useValue:e.isolate},{provide:ne,useValue:e.useDefaultLang},{provide:re,useValue:e.extend},{provide:ie,useValue:e.defaultLanguage},se]}}static forChild(e={}){return{ngModule:n,providers:[e.loader||{provide:E,useClass:we},e.compiler||{provide:D,useClass:ye},e.parser||{provide:U,useClass:xe},e.missingTranslationHandler||{provide:V,useClass:Me},{provide:te,useValue:e.isolate},{provide:ne,useValue:e.useDefaultLang},{provide:re,useValue:e.extend},{provide:ie,useValue:e.defaultLanguage},se]}}static \u0275fac=function(t){return new(t||n)};static \u0275mod=je({type:n});static \u0275inj=Ve({})}return n})();function ft(n,r){if(n&1){let e=C();a(0,"div",7),h("click",function(){d(e);let i=f();return p(i.closeModal())}),o()}}function gt(n,r){n&1&&(a(0,"div",8)(1,"div",9)(2,"h5",10),l(3,"About Us"),o()(),a(4,"div",11)(5,"p"),l(6," BonzoByte je hobi-projekt stvoren iz ljubavi prema tenisu, tehnologiji i \u2013 da, psima \u{1F436}. Ovdje \u0107emo graditi, u\u010Diti i zabavljati se. Hvala \u0161to ste tu! "),o(),g(7,"hr"),a(8,"p",12),l(9," \u201CNeque porro quisquam est qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit\u2026\u201D "),o()()())}function vt(n,r){n&1&&(a(0,"div",8)(1,"div",9)(2,"h5",10),l(3,"Contact Us"),o()(),a(4,"div",11)(5,"p"),l(6," Ima\u0161 ideju, prijedlog, feedback ili jednostavno \u017Eeli\u0161 re\u0107i bok? "),g(7,"br"),l(8,"Javi nam se na: "),o(),a(9,"ul")(10,"li"),l(11,"Email: "),a(12,"a",13),l(13,"noreplybonzobyte.com"),o()(),a(14,"li"),l(15,"Instagram: "),a(16,"a",14),l(17,"bonzobyte"),o()(),a(18,"li"),l(19,"GitHub: "),a(20,"a",15),l(21,"github.com/bonzobyte"),o()()(),g(22,"hr"),a(23,"p",16),l(24," Odgovor garantiran unutar 42 godine \u{1F609} "),o()()())}var oe=class n{showAbout=!1;showContact=!1;openAboutModal(){this.showAbout=!0}openContactModal(){this.showContact=!0}closeModal(){this.showAbout=!1,this.showContact=!1}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=S({type:n,selectors:[["app-footer"]],decls:12,vars:3,consts:[[1,"footer-custom"],[1,"footer-left"],[1,"btn","p-0",3,"click"],[1,"footer-center"],[1,"footer-right","text-muted"],["class","modal-backdrop-custom",3,"click",4,"ngIf"],["class","modal-custom",4,"ngIf"],[1,"modal-backdrop-custom",3,"click"],[1,"modal-custom"],[1,"modal-header","justify-content-center"],[1,"modal-title","text-center","w-100"],[1,"modal-body"],[1,"fst-italic","text-muted","text-end",2,"font-size","0.9rem"],["href","mailto:noreply@bonzobyte.com"],["href","https://instagram.com/bonzobyte","target","_blank"],["href","https://github.com/bonzobyte","target","_blank"],[1,"text-muted","fst-italic","text-end",2,"font-size","0.85rem"]],template:function(e,t){e&1&&(a(0,"footer",0)(1,"div",1)(2,"button",2),h("click",function(){return t.openAboutModal()}),l(3,"About Us"),o()(),a(4,"div",3)(5,"button",2),h("click",function(){return t.openContactModal()}),l(6,"Contact Us"),o()(),a(7,"div",4),l(8," \xA9 2025 BonzoByte "),o(),_(9,ft,1,0,"div",5)(10,gt,10,0,"div",6)(11,vt,25,0,"div",6),o()),e&2&&(c(9),m("ngIf",t.showAbout||t.showContact),c(),m("ngIf",t.showAbout),c(),m("ngIf",t.showContact))},dependencies:[x,L],encapsulation:2})};function Ct(n,r){n&1&&(a(0,"small"),l(1," That username is already taken "),o())}function _t(n,r){if(n&1&&g(0,"img",22),n&2){let e=f();m("src",e.currentUser.avatarUrl||"assets/images/defaultUser.png",O)}}function bt(n,r){if(n&1&&g(0,"img",23),n&2){let e=f();m("src",e.previewUrl,O)}}function wt(n,r){if(n&1&&(a(0,"p",24),l(1),o()),n&2){let e=f();c(),T(e.successMessage)}}function Mt(n,r){if(n&1&&(a(0,"p",25),l(1),o()),n&2){let e=f();c(),T(e.errorMessage)}}var j=class n{constructor(r,e,t,i){this.fb=r;this.http=e;this.authService=t;this.snackBar=i}closed=new w;updated=new w;userForm;selectedFile=null;previewUrl=null;successMessage="";errorMessage="";submitted=!1;currentUser;ngOnInit(){this.currentUser=this.authService.getUser(),this.userForm=this.fb.group({email:[{value:this.currentUser.email||"",disabled:!0}],nickname:[this.currentUser.nickname||""]}),this.currentUser.avatarUrl&&(this.previewUrl=this.currentUser.avatarUrl),this.userForm.get("nickname")?.valueChanges.pipe(he(500),fe()).subscribe(r=>{r&&r!==this.currentUser.nickname&&this.authService.checkNicknameExists(r).subscribe(e=>{if(e)this.userForm.get("nickname")?.setErrors({nicknameTaken:!0});else{let t=this.userForm.get("nickname");t?.hasError("nicknameTaken")&&t.setErrors(null)}})})}onSubmit(){if(this.submitted=!0,this.userForm.invalid)return;this.userForm.get("nickname")?.valueChanges.pipe(he(500),fe()).subscribe(e=>{e&&this.authService.checkNicknameExists(e).subscribe(t=>{t&&e!==this.currentUser.nickname&&this.userForm.get("nickname")?.setErrors({nicknameTaken:!0})})});let r=new FormData;r.append("nickname",this.userForm.value.nickname),r.append("email",this.userForm.get("email")?.value),this.selectedFile&&r.append("avatar",this.selectedFile),this.authService.updateUser(r).subscribe({next:e=>{let t=e.user;this.successMessage="Profil je uspje\u0161no a\u017Euriran!",this.errorMessage="",this.authService.setUser(t),this.updated.emit(t),this.currentUser=t,this.snackBar.open(this.successMessage,"",{duration:2e3,horizontalPosition:"right",verticalPosition:"bottom",panelClass:"success-snackbar"}),setTimeout(()=>{this.close()},1500)},error:e=>{console.error("Gre\u0161ka pri a\u017Euriranju profila:",e),this.errorMessage=e?.error?.message||"Gre\u0161ka pri a\u017Euriranju profila.",this.successMessage="",this.snackBar.open(this.errorMessage,"",{duration:5e3,panelClass:"error-snackbar"})}})}onFileSelected(r){let e=r.target;if(e.files&&e.files.length>0){if(this.selectedFile=e.files[0],this.selectedFile.size>2*1024*1024){this.errorMessage="Datoteka je prevelika (max 2MB)",this.selectedFile=null;return}if(!["image/jpeg","image/png"].includes(this.selectedFile.type)){this.errorMessage="Samo JPG i PNG formati su dozvoljeni",this.selectedFile=null;return}let t=new FileReader;t.onload=()=>{this.previewUrl=t.result},t.readAsDataURL(this.selectedFile)}}changePassword(){let r=this.userForm.get("email")?.value;this.authService.sendResetPasswordEmail(r).subscribe({next:()=>{this.snackBar.open("Reset link poslan na va\u0161 email.","",{duration:5e3,horizontalPosition:"right",verticalPosition:"bottom",panelClass:"success-snackbar"})},error:()=>{this.snackBar.open("Gre\u0161ka prilikom slanja linka za reset.","",{duration:5e3,horizontalPosition:"right",verticalPosition:"bottom",panelClass:"error-snackbar"})}})}close(){this.closed.emit()}get nickname(){return this.userForm.get("nickname")}get email(){return this.userForm.get("email")}onAvatarError(r){r.target.src="assets/images/defaultUser.png"}static \u0275fac=function(e){return new(e||n)(v(Ze),v(ze),v(F),v(tt))};static \u0275cmp=S({type:n,selectors:[["app-user-modal"]],outputs:{closed:"closed",updated:"updated"},decls:38,vars:8,consts:[["fileInput",""],["appAccessibleClick","",1,"modal-backdrop",3,"accessibleClick"],["appTrapFocus","",1,"modal-content",3,"click","onEscape"],["appAccessibleClick","",1,"close-button",3,"accessibleClick"],[3,"ngSubmit","formGroup"],[1,"text-center"],[1,"form-group"],["for","email"],["type","email","formControlName","email","readonly",""],["for","nickname"],["id","nickname","formControlName","nickname"],[4,"ngIf"],[1,"avatar-container"],["alt","Current avatar","class","avatar-preview",3,"src",4,"ngIf"],["alt","New avatar","class","avatar-preview",3,"src",4,"ngIf"],[1,"avatar-actions"],["type","button","appAccessibleClick","","title","Select a new image (max 2MB, JPG/PNG)",1,"link-button",3,"accessibleClick"],["type","file",2,"display","none",3,"change"],["type","button","appAccessibleClick","",1,"link-button",3,"accessibleClick"],["type","submit",3,"disabled"],["class","success",4,"ngIf"],["class","error",4,"ngIf"],["alt","Current avatar",1,"avatar-preview",3,"src"],["alt","New avatar",1,"avatar-preview",3,"src"],[1,"success"],[1,"error"]],template:function(e,t){if(e&1){let i=C();a(0,"div",1),h("accessibleClick",function(){return d(i),p(t.close())}),a(1,"div",2),h("click",function(u){return d(i),p(u.stopPropagation())}),a(2,"button",3),h("accessibleClick",function(){return d(i),p(t.close())}),l(3,"\xD7"),o(),a(4,"form",4),h("ngSubmit",function(){return d(i),p(t.onSubmit())}),a(5,"h4",5),l(6,"User data"),o(),g(7,"br"),a(8,"div",6)(9,"label",7),l(10,"Email"),o(),g(11,"input",8),o(),g(12,"br"),a(13,"div",6)(14,"label",9),l(15,"Username (nickname)"),o(),g(16,"input",10),_(17,Ct,2,0,"small",11),o(),g(18,"br"),a(19,"div",6)(20,"div",12),_(21,_t,1,1,"img",13)(22,bt,1,1,"img",14),o(),g(23,"br"),a(24,"div",15)(25,"button",16),h("accessibleClick",function(){d(i);let u=q(28);return p(u.click())}),l(26,"Change avatar"),o(),a(27,"input",17,0),h("change",function(u){return d(i),p(t.onFileSelected(u))}),o(),a(29,"button",18),h("accessibleClick",function(){return d(i),p(t.changePassword())}),l(30," Change Password "),o()()(),g(31,"br"),a(32,"button",19),l(33,"Save"),o(),g(34,"br"),a(35,"div",6),_(36,wt,2,1,"p",20)(37,Mt,2,1,"p",21),o()()()()}e&2&&(c(),m("onEscape",t.close),c(3),m("formGroup",t.userForm),c(13),m("ngIf",t.userForm.controls.nickname==null||t.userForm.controls.nickname.errors==null?null:t.userForm.controls.nickname.errors.nicknameTaken),c(4),m("ngIf",!t.previewUrl&&(t.currentUser==null?null:t.currentUser.avatarUrl)),c(),m("ngIf",t.previewUrl),c(10),m("disabled",t.userForm.invalid),c(4),m("ngIf",t.successMessage),c(),m("ngIf",t.errorMessage))},dependencies:[x,L,Ye,Je,qe,Qe,$e,We,Xe,nt,rt,it],encapsulation:2})};function xt(n,r){if(n&1){let e=C();Ne(0),a(1,"button",13),h("click",function(){d(e);let i=f();return p(i.openLoginModal())}),l(2),Q(3,"translate"),o(),a(4,"button",13),h("click",function(){d(e);let i=f();return p(i.openRegisterModal())}),l(5),Q(6,"translate"),o(),Pe()}n&2&&(c(2),T($(3,2,"login")),c(3),T($(6,4,"register")))}function yt(n,r){if(n&1){let e=C();a(0,"div",14)(1,"span",15),l(2),o(),a(3,"img",16),h("click",function(){d(e);let i=f();return p(i.openUserModal())}),o()(),a(4,"button",13),h("click",function(){d(e);let i=f();return p(i.logout())}),l(5),Q(6,"translate"),o()}if(n&2){let e=f();c(2),Oe("Wellcome ",e.userDisplayName,""),c(),m("src",(e.user==null?null:e.user.avatarUrl)||"assets/images/defaultUser.png",O),c(2),T($(6,3,"logout"))}}function kt(n,r){if(n&1){let e=C();a(0,"app-register",17),h("closed",function(){d(e);let i=f();return p(i.closeRegisterModal())}),o()}}function Tt(n,r){if(n&1){let e=C();a(0,"app-login",17),h("closed",function(){d(e);let i=f();return p(i.closeLoginModal())}),o()}}function Et(n,r){if(n&1){let e=C();a(0,"app-user-modal",18),h("closed",function(){d(e);let i=f();return p(i.closeUserModal())})("updated",function(i){d(e);let s=f();return p(s.user=i)}),l(1," />"),o()}}var le=class n{constructor(r,e,t){this.authService=r;this.router=e;this.modalService=t}closed=new w;userModalOpened=new w;isLoggedIn=!1;authSub;showRegisterModal=!1;showLoginModal=!1;user=null;showUserModal=!1;userNickname="";userDisplayName="";switchToRegisterHandler=()=>{this.closeLoginModal(),this.openRegisterModal(),this.openUserModal()};ngOnInit(){this.router.events.pipe(Ie(r=>r instanceof Be)).subscribe(r=>{r.url==="/login"&&this.openLoginModal(),r.url==="/register"&&this.openRegisterModal()}),this.authSub=this.authService.authStatus$.subscribe(r=>{console.log("\u{1F525} authStatus$ iz modala:",r),this.isLoggedIn=r,r?(this.user=this.authService.getUser(),this.userNickname=this.user?.nickname||"",this.userDisplayName=this.user?.nickname||this.user?.name||"User"):this.user=null,r?this.user=this.authService.getUser():this.user=null}),this.authService.user$.subscribe(r=>{this.user=r,this.userDisplayName=r?.nickname||r?.name||"User"}),window.addEventListener("switchToRegister",this.switchToRegisterHandler)}ngOnDestroy(){this.authSub&&this.authSub.unsubscribe(),window.addEventListener("switchToRegister",this.switchToRegisterHandler)}openLoginModal(){console.log("\u{1F7E2} Login modal otvoren"),this.showLoginModal=!0}closeLoginModal(){this.showLoginModal=!1}openRegisterModal(){this.showRegisterModal=!0}closeRegisterModal(){this.showRegisterModal=!1}logout(){this.authService.logout()}openUserModal(){this.userModalOpened.emit()}closeUserModal(){this.showUserModal=!1}static \u0275fac=function(e){return new(e||n)(v(F),v(W),v(Z))};static \u0275cmp=S({type:n,selectors:[["app-header"]],outputs:{closed:"closed",userModalOpened:"userModalOpened"},decls:21,vars:5,consts:[["loggedIn",""],["id","main-header",1,"custom-header","border-bottom","position-relative","py-2"],[1,"container-fluid","d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center","gap-3"],["routerLink","/",1,"navbar-brand","fs-4"],[1,"navbar-nav","d-flex","flex-row","gap-3"],["routerLink","/matches",1,"nav-link"],["routerLink","/players",1,"nav-link"],["routerLink","/tournaments",1,"nav-link"],[1,"brand-title","position-absolute","start-50","translate-middle-x","fw-bold","fs-3","text-secondary"],[4,"ngIf","ngIfElse"],[3,"closed",4,"ngIf"],[3,"closed","updated",4,"ngIf"],[1,"btn","p-0","me-3",3,"click"],[1,"d-flex","align-items-center","gap-2"],[1,"fw-semibold"],["alt","Avatar",1,"rounded-circle",2,"width","40px","height","40px","cursor","pointer",3,"click","src"],[3,"closed"],[3,"closed","updated"]],template:function(e,t){if(e&1&&(a(0,"nav",1)(1,"div",2)(2,"div",3)(3,"a",4),l(4,"\u{1F3C6}"),o(),a(5,"div",5)(6,"a",6),l(7,"Matches"),o(),a(8,"a",7),l(9,"Players"),o(),a(10,"a",8),l(11,"Tournaments"),o()()(),a(12,"div",9),l(13," Tennis Oracle "),o(),a(14,"div",5),_(15,xt,7,6,"ng-container",10)(16,yt,7,5,"ng-template",null,0,J),o()()(),_(18,kt,1,0,"app-register",11)(19,Tt,1,0,"app-login",11)(20,Et,2,0,"app-user-modal",12)),e&2){let i=q(17);c(15),m("ngIf",!t.isLoggedIn)("ngIfElse",i),c(3),m("ngIf",t.showRegisterModal),c(),m("ngIf",t.showLoginModal),c(),m("ngIf",t.showUserModal)}},dependencies:[x,L,at,st,j,X,Ke,et,lt,ot],encapsulation:2})};var Ut=["aboutUsModal"],Dt=["contactUsModal"];function It(n,r){if(n&1){let e=C();a(0,"app-user-modal",5),h("closed",function(){d(e);let i=f();return p(i.showUserModal=!1)})("updated",function(i){d(e);let s=f();return p(s.onUserUpdated(i))}),o()}}function Ft(n,r){n&1&&(a(0,"div",6)(1,"h5",7),l(2,"About Us"),o()(),a(3,"div",8)(4,"p"),l(5," BonzoByte je hobi-projekt stvoren iz ljubavi prema tenisu, tehnologiji i \u2013 da, psima \u{1F436}. Ovdje \u0107emo graditi, u\u010Diti i zabavljati se. Hvala \u0161to ste tu! "),o(),g(6,"hr"),a(7,"p",9),l(8," \u201CNeque porro quisquam est qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit\u2026\u201D "),o()())}var ct=class n{constructor(r,e,t){this.authService=r;this.router=e;this.modalService=t;console.log("\u2705 AppComponent je aktivan!"),this.router.events.subscribe(i=>{console.log("\u{1F4E6} Router event:",i)})}aboutUsModal;contactUsModal;showUserModal=!1;showMatchFilterModal=!1;user=null;ngOnInit(){this.authService.initAuth()}onOpenUserModal(){this.showUserModal=!0}onUserUpdated(r){this.user=r}openMatchFilterModal(){this.showMatchFilterModal=!0}closeMatchFilterModal(){this.showMatchFilterModal=!1}openAboutModal(){this.modalService.open(this.aboutUsModal)}openContactModal(){this.modalService.open(this.contactUsModal,{centered:!0})}static \u0275fac=function(e){return new(e||n)(v(F),v(W),v(Z))};static \u0275cmp=S({type:n,selectors:[["app-root"]],viewQuery:function(e,t){if(e&1&&(Ce(Ut,5),Ce(Dt,5)),e&2){let i;_e(i=be())&&(t.aboutUsModal=i.first),_e(i=be())&&(t.contactUsModal=i.first)}},decls:7,vars:1,consts:[["aboutUsModal",""],[1,"app-header",3,"userModalOpened"],[3,"closed","updated",4,"ngIf"],[1,"main-content"],[1,"app-footer"],[3,"closed","updated"],[1,"modal-header","justify-content-center"],[1,"modal-title","text-center","w-100"],[1,"modal-body"],[1,"fst-italic","text-muted","text-end",2,"font-size","0.9rem","z-index","1200!important"]],template:function(e,t){if(e&1){let i=C();a(0,"app-header",1),h("userModalOpened",function(){return d(i),p(t.onOpenUserModal())}),o(),_(1,It,1,0,"app-user-modal",2)(2,Ft,9,0,"ng-template",null,0,J),a(4,"main",3),g(5,"router-outlet"),o(),g(6,"app-footer",4)}e&2&&(c(),m("ngIf",t.showUserModal))},dependencies:[le,oe,Ge,X,j,x,L],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;overflow:hidden}app-header[_ngcontent-%COMP%]{flex-shrink:0;position:sticky;top:0;z-index:1000}.main-content[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto;padding:1rem}app-footer[_ngcontent-%COMP%]{flex-shrink:0;position:sticky;bottom:0;z-index:1000;background-color:#1e1e1e;color:#fff}[_nghost-%COMP%]{position:relative}"]})};export{E as a,se as b,Kt as c,ct as d};
