import{b as R,c as j}from"./chunk-XYQLMOWE.js";import"./chunk-DTJY53OX.js";import{a as S}from"./chunk-ZYCYIVJV.js";import{c as w,e as k}from"./chunk-V4HT3JDP.js";import{a as _}from"./chunk-M6G75PQQ.js";import{Ab as m,Bb as C,Ja as p,Oa as i,Ob as b,Ua as f,Za as u,ia as c,ja as d,kb as a,lb as s,mc as x,qb as v,rb as g,sb as l,wb as h,xb as y,yb as M}from"./chunk-GPF5BPB6.js";var I=["verifyModal"];function O(o,t){if(o&1){let e=v();a(0,"div",1)(1,"h5",2),m(2,"Verifikacija"),s()(),a(3,"div",3)(4,"p"),m(5),s(),a(6,"button",4),g("accessibleClick",function(){c(e);let n=l();return d(n.goHome())}),m(7,"Povratak na po\u010Detnu"),s()()}if(o&2){let e=l();p(5),C(e.modalMessage)}}var V=class o{constructor(t,e,r,n,P){this.route=t;this.router=e;this.authService=r;this.http=n;this.modalService=P}verifyModalRef;modalMessage="";ngOnInit(){let t=this.route.snapshot.queryParamMap.get("token");t?this.authService.verifyEmail(t).subscribe({next:()=>{this.modalMessage="Tvoj email je uspje\u0161no potvr\u0111en! \u{1F389}",setTimeout(()=>this.modalService.open(this.verifyModalRef,{centered:!0}),200)},error:e=>{this.modalMessage=e.error.message||"Do\u0161lo je do pogre\u0161ke.",this.showModal=!0}}):(this.modalMessage="Token nije prona\u0111en u URL-u.",this.showModal=!0)}showModal=!1;goHome(){this.modalService.dismissAll(),this.router.navigate(["/"])}static \u0275fac=function(e){return new(e||o)(i(w),i(k),i(S),i(_),i(R))};static \u0275cmp=f({type:o,selectors:[["app-verify"]],viewQuery:function(e,r){if(e&1&&h(I,5),e&2){let n;y(n=M())&&(r.verifyModalRef=n.first)}},decls:2,vars:0,consts:[["verifyModal",""],[1,"modal-header","justify-content-center"],[1,"modal-title","text-center","w-100"],[1,"modal-body","text-center"],["appAccessibleClick","",1,"btn","btn-primary","mt-3",3,"accessibleClick"]],template:function(e,r){e&1&&u(0,O,8,1,"ng-template",null,0,b)},dependencies:[x,j],styles:[".modal-backdrop[_ngcontent-%COMP%]{background:#00000080}.modal-content[_ngcontent-%COMP%]{background:#fff;width:90%;max-width:500px;padding:1.5rem;border-radius:8px;box-shadow:0 4px 12px #0000004d}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border-bottom:1px solid #ddd;margin-bottom:1rem}.modal-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-size:1.25rem}.modal-body[_ngcontent-%COMP%]{font-size:.95rem;color:#333}"]})};export{V as VerifyComponent};
