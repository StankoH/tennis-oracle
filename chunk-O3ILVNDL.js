import{Na as d,Oa as s,Wa as r,pa as a,rb as l,ta as c}from"./chunk-GPF5BPB6.js";var f=class i{constructor(e,t){this.el=e;this.renderer=t;this.renderer.setAttribute(this.el.nativeElement,"tabindex","0"),this.renderer.setAttribute(this.el.nativeElement,"role","button")}accessibleClick=new a;onClick(){this.accessibleClick.emit()}onKeydown(){this.accessibleClick.emit()}static \u0275fac=function(t){return new(t||i)(s(c),s(d))};static \u0275dir=r({type:i,selectors:[["","appAccessibleClick",""]],hostBindings:function(t,n){t&1&&l("click",function(){return n.onClick()})("keydown.enter",function(){return n.onKeydown()})("keydown.space",function(){return n.onKeydown()})},outputs:{accessibleClick:"accessibleClick"}})};var u=class i{constructor(e){this.elRef=e}onEscape;focusableEls=[];firstEl;lastEl;ngOnInit(){this.setFocusableElements(),setTimeout(()=>this.firstEl?.focus(),0)}handleKeydown(e){if(e.key==="Escape"&&this.onEscape){this.onEscape();return}if(e.key!=="Tab")return;this.setFocusableElements();let t=document.activeElement;e.shiftKey?t===this.firstEl&&(e.preventDefault(),this.lastEl?.focus()):t===this.lastEl&&(e.preventDefault(),this.firstEl?.focus())}setFocusableElements(){let e=this.elRef.nativeElement,t='a[href], button, textarea, input, select, [tabindex]:not([tabindex="-1"])';this.focusableEls=Array.from(e.querySelectorAll(t)),this.firstEl=this.focusableEls[0],this.lastEl=this.focusableEls[this.focusableEls.length-1]}static \u0275fac=function(t){return new(t||i)(s(c))};static \u0275dir=r({type:i,selectors:[["","appTrapFocus",""]],hostBindings:function(t,n){t&1&&l("keydown",function(E){return n.handleKeydown(E)})},inputs:{onEscape:"onEscape"}})};export{f as a,u as b};
